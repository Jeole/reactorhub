<!DOCTYPE html>
<script>
function Initialize() {
  console.log("Initialzing something: ")

 var talentURL = 'talent.html'
 //?turl=' + talentVideoIDString;
 // console.log('talent UTL is: ' + talentURL);
 // console.log("The url string is: " + url_string);
 // console.log("Reactor Video ID is: " + reactorVideoIDString);
 // console.log("Talent Video ID is: " + talentVideoIDString);
}
function resizeIframe(obj) {
  obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
  obj.style.width = obj.contentWindow.document.body.scrollWidth + 'px';
  // Also initialize the video command buffer
  // if (typeof(Storage) !== "undefined") {
  //   // If there is a local storage timer, then set it to the current time of the reactor video
  //   if ( commands.localStorage) {
  //       commands.localStorage.setItem('0.00', 'none');
  //      // localStorage.commands = "none";
  //     //localStorage.setItem('reactorPlayer', JSON.stringify(player));
  //     //console.log("local storage is: " +  localStorage.reactortimer);
  //   } else {
  //     // no local storage timer? create it and set it to 0
  //      commands.localStorage.setItem('0.00') = "none";
  //   }
  // } talent.html?video_id=9TkHpvaO09c
}

</script>
  <head>
    <meta charset="utf-8"/>
    <body onload="Initialize()">
      Test 1 <br><br>
      <div id="reactor"></div>
<!--      <div>5 - Current Time: <span id="time"></span></div> -->
        <iframe id="talentframe" src="" frameborder="0" scrolling="no" onload="resizeIframe(this)"></iframe>
        <script>
        function getVideoIdFromURL(url) {
          // var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
          // var match = url.match(regExp);
          // return (match&&match[7].length==11)? match[7] : false;
          console.log("Function url is: " + url);

          delimiter = '/',
          start = 3,
          tokens = url.split(delimiter).slice(start),
          result = tokens.join(delimiter); // those.that
          console.log("Function url pathname is: " + result);
          return result;
        }
          var url_string = window.location.href;
          var url = new URL(url_string);
          var reactorVideoURL = url.searchParams.get("reactor");
          var talentVideoURL = url.searchParams.get("talent");
          console.log("index.html: talentVideoURL: " + talentVideoURL);
          var reactorVideoID = getVideoIdFromURL(reactorVideoURL);
          var reactorVideoIDString = new String(reactorVideoID);
          var talentVideoID = getVideoIdFromURL(talentVideoURL);
          console.log("Index: talentVideoURL: " + talentVideoURL);
          console.log("Index: talentVideoID: " + talentVideoID);
          var talentVideoIDString = new String(talentVideoID);
//          console.log("Vars are: talentVideoIDString: " + talentVideoIDString);
          document.getElementById("talentframe").src = "talent.html?video_id=" + talentVideoIDString;

        </script>

      <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->

    </body>
    <script language="javascript" type="text/javascript" src="reactor.js"> </script>
  </head>
</html>
<script>

  // function Initialize() {
  //   console.log("Initialzing something: ")
  //   var url_string = window.location.href;
  //   var url = new URL(url_string);
  //   var reactorVideoURL = url.searchParams.get("reactor");
  //   var talentVideoURL = url.searchParams.get("talent");
  //   var reactorVideoID = getVideoIdFromURL(reactorVideoURL);
  //   var reactorVideoIDString = new String(reactorVideoID);
  //   var talentVideoID = getVideoIdFromURL(talentVideoURL);
  //   var talentVideoIDString= new String(talentVideoID);
  //   console.log("The url string is: " + url_string);
  //   console.log("Reactor Video ID is: " + reactorVideoIDString);
  //   console.log("Talent Video ID is: " + talentVideoIDString);
  // }
  // function getVideoIdFromURL(url) {
  //   var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
  //   var match = url.match(regExp);
  //   return (match&&match[7].length==11)? match[7] : false;
  // }
</script>
